(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{834:function(e,t,r){"use strict";r.r(t);var n=r(113),o=Object(n.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"_12-1：事件介绍"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_12-1：事件介绍"}},[e._v("#")]),e._v(" 12.1：事件介绍")]),e._v(" "),r("br"),e._v(" "),r("p",[e._v("Flutter中的手势系统有两个独立的层：")]),e._v(" "),r("br"),e._v(" "),r("ol",[r("li",[e._v("第一层有原始指针（pointer）事件，它描述了屏幕上指针（例如，触摸，鼠标和触控笔）的位置和移动；")]),e._v(" "),r("li",[e._v("第二层有手势，描述由一个或多个指针移动组成的语义动作；")])]),e._v(" "),r("br"),e._v(" "),r("hr"),e._v(" "),r("h2",{attrs:{id:"原始指针事件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#原始指针事件"}},[e._v("#")]),e._v(" 原始指针事件")]),e._v(" "),r("p",[e._v("指针（Pointer）代表用户与设备屏幕交互的原始数据，Flutter 中四种类型的指针事件：")]),e._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://docs.flutter.io/flutter/gestures/PointerDownEvent-class.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PointerDownEvent"),r("OutboundLink")],1),e._v(" 指针接触到屏幕的特定位置；")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://docs.flutter.io/flutter/gestures/PointerMoveEvent-class.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PointerMoveEvent"),r("OutboundLink")],1),e._v(" 指针从屏幕上的一个位置移动到另一个位置；")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://docs.flutter.io/flutter/gestures/PointerUpEvent-class.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PointerUpEvent"),r("OutboundLink")],1),e._v(" 指针停止接触屏幕；")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://docs.flutter.io/flutter/gestures/PointerCancelEvent-class.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PointerCancelEvent"),r("OutboundLink")],1),e._v(" 指针的输入事件不再针对此应用（事件取消）；")])]),e._v(" "),r("br"),e._v(" "),r("hr"),e._v(" "),r("h2",{attrs:{id:"listener"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#listener"}},[e._v("#")]),e._v(" Listener")]),e._v(" "),r("p",[e._v("一次完整的原始指针事件分为三个阶段：手指按下、手指移动、和手指抬起，而更高级别的手势（如点击、双击、拖动等）都是基于这些原始事件的。原始指针事件有和 Web 开发中浏览器相似的 "),r("code",[e._v("事件冒泡")]),e._v("机制，但是 Flutter 中没有机制取消或停止“冒泡”过程，而浏览器的冒泡是可以停止的。")]),e._v(" "),r("p",[e._v("在 Flutter 中可以使用 "),r("a",{attrs:{href:"https://api.flutter.dev/flutter/widgets/Listener-class.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Listener"),r("OutboundLink")],1),e._v(" 来监听原始触摸事件：")]),e._v(" "),r("br"),e._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://api.flutter.dev/flutter/rendering/PointerDownEventListener.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PointerDownEventListener"),r("OutboundLink")],1),e._v(" onPointerDown，手指按下；")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://api.flutter.dev/flutter/rendering/PointerMoveEventListener.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PointerMoveEventListener"),r("OutboundLink")],1),e._v(" onPointerMove，手指移动；")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://api.flutter.dev/flutter/rendering/PointerUpEventListener.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PointerUpEventListener"),r("OutboundLink")],1),e._v(" onPointerUp，手指抬起；")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://api.flutter.dev/flutter/rendering/PointerCancelEventListener.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PointerCancelEventListener"),r("OutboundLink")],1),e._v(" onPointerCancel，触摸事件取消；")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://api.flutter.dev/flutter/rendering/PointerSignalEventListener.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("PointerSignalEventListener"),r("OutboundLink")],1),e._v(" onPointerSignal，")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://api.flutter.dev/flutter/rendering/HitTestBehavior-class.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("HitTestBehavior"),r("OutboundLink")],1),e._v(" behavior: HitTestBehavior.deferToChild，在命中测试期间如何表现，注意，"),r("strong",[e._v("只有通过命中测试的组件才能触发事件")]),e._v("。")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://api.flutter.dev/flutter/widgets/Widget-class.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Widget"),r("OutboundLink")],1),e._v(" child，")])]),e._v(" "),r("br"),e._v(" "),r("hr"),e._v(" "),r("p",[e._v("事件参数：")]),e._v(" "),r("ol",[r("li",[e._v("position：它是鼠标相对于全局坐标的偏移；")]),e._v(" "),r("li",[e._v("delta：两次指针移动事件（PointerMoveEvent）的距离；")]),e._v(" "),r("li",[e._v("pressure：按压力度，如果手机屏幕支持压力传感器(如：iPhone的3D Touch)，此属性会更有意义，如果手机不支持，则始终为1；")]),e._v(" "),r("li",[e._v("orientation：指针移动方向，是一个角度值；")])]),e._v(" "),r("br"),e._v(" "),r("hr"),e._v(" "),r("h2",{attrs:{id:"listener示例"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#listener示例"}},[e._v("#")]),e._v(" Listener示例")]),e._v(" "),r("div",{staticClass:"language-dart extra-class"},[r("pre",{pre:!0,attrs:{class:"language-dart"}},[r("code",[e._v("\n")])])])])}),[],!1,null,null,null);t.default=o.exports}}]);